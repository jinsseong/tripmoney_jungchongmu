# 🧪 테스트 가이드

## ✅ 사전 확인사항

### 1. 환경 변수 확인
`.env.local` 파일에 Supabase 정보가 입력되어 있는지 확인:
```env
NEXT_PUBLIC_SUPABASE_URL=your_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key
```

### 2. 데이터베이스 스키마 확인
Supabase Table Editor에서 다음 테이블들이 있는지 확인:
- ✅ participants
- ✅ categories (8개의 기본 카테고리)
- ✅ expenses
- ✅ expense_participants
- ✅ shared_expenses
- ✅ daily_participations
- ✅ shared_dashboards
- ✅ dashboard_snapshots

## 🚀 테스트 시나리오

### 시나리오 1: 기본 기능 테스트

#### 1-1. 참여자 추가
1. 홈 화면 (`/`) 접속
2. "추가" 버튼 클릭
3. 참여자 이름 입력 (예: "홍길동")
4. 전화번호 입력 (선택사항)
5. "추가하기" 클릭
6. ✅ 참여자가 목록에 표시되는지 확인

#### 1-2. 지출 추가
1. "지출 추가" 메뉴 클릭 (`/add-expense`)
2. 금액 입력 (예: 50000)
3. 통화 선택 (KRW)
4. 지출 형태 선택 (현금/카드)
5. 카테고리 선택 (예: 🍽️ 식사)
6. 지출 내용 입력 (예: "점심 식사")
7. 날짜 선택
8. 결제자 선택
9. 정산 방법 선택:
   - "동일 분할": 모든 참여자가 동일하게 분할
   - "직접 정산": 개별 금액 입력
10. 참여자 선택 (1명 이상)
11. "추가하기" 클릭
12. ✅ 대시보드로 이동하는지 확인

#### 1-3. 대시보드 확인
1. 대시보드 (`/dashboard`) 접속
2. 다음 항목 확인:
   - ✅ 총 사용금액 표시
   - ✅ 캘린더에 지출 날짜 표시
   - ✅ 카테고리별 지출 차트
   - ✅ 일별 지출 추이 차트
   - ✅ 개인별 정산 현황
   - ✅ 최적화된 송금 안내
   - ✅ 지출 내역 목록

### 시나리오 2: 기간별 공유비용 테스트

#### 2-1. 공유비용 추가
1. 대시보드에서 "공유비용" 버튼 클릭 (`/shared-expenses`)
2. "공유비용 추가" 버튼 클릭
3. 항목명 입력 (예: "제주도 숙소비")
4. 총금액 입력 (예: 300000)
5. 시작일/종료일 선택 (예: 3일간)
6. 날짜별 참여자 선택:
   - 각 날짜마다 참여자 체크박스 선택
   - 실시간으로 인당 금액 계산 확인
7. "추가하기" 클릭
8. ✅ 공유비용 목록에 표시되는지 확인

#### 2-2. 통합 정산 확인
1. 대시보드로 돌아가기
2. ✅ 일반 지출 + 공유비용이 통합되어 계산되는지 확인
3. ✅ 개인별 정산 현황에 공유비용이 포함되는지 확인

### 시나리오 3: 카테고리 관리 테스트

#### 3-1. 카테고리 추가
1. 대시보드에서 "카테고리" 버튼 클릭 (`/categories`)
2. "카테고리 추가" 버튼 클릭
3. 카테고리 이름 입력 (예: "영화")
4. 아이콘 선택 (예: 🎬)
5. 색상 선택
6. "추가하기" 클릭
7. ✅ 사용자 정의 카테고리 목록에 표시되는지 확인

#### 3-2. 카테고리 수정/삭제
1. 카테고리 카드에 마우스 오버
2. 수정/삭제 버튼 표시 확인
3. 수정 버튼 클릭 → 내용 변경 → 저장
4. 삭제 버튼 클릭 → 확인 → 삭제
5. ✅ 변경사항이 반영되는지 확인

### 시나리오 4: 공유 대시보드 테스트

#### 4-1. 공유 대시보드 생성
1. 대시보드에서 "공유하기" 버튼 클릭
2. 제목 입력 (예: "제주도 여행 정산")
3. 설명 입력 (선택사항)
4. 시작일/종료일 선택
5. 비밀번호 설정 (선택사항)
6. "생성하기" 클릭
7. ✅ 공유 링크가 생성되는지 확인
8. ✅ 링크 복사 기능 확인

#### 4-2. 공유 대시보드 조회
1. 생성된 공유 링크를 새 탭에서 열기 (`/shared/[shareKey]`)
2. 비밀번호가 설정된 경우 입력
3. ✅ 읽기 전용 대시보드가 표시되는지 확인
4. ✅ 정산 결과가 올바르게 표시되는지 확인

### 시나리오 5: 직접 정산 테스트

#### 5-1. 직접 정산 지출 추가
1. "지출 추가" 메뉴 접속
2. 금액 입력 (예: 100000)
3. 정산 방법에서 "직접 정산" 선택
4. 참여자 선택 (예: 2명)
5. 각 참여자별 금액 입력:
   - 참여자 1: 60000
   - 참여자 2: 40000
6. "추가하기" 클릭
7. ✅ 대시보드에서 개별 금액이 올바르게 반영되는지 확인

## 🔍 체크리스트

### 기능 체크리스트
- [ ] 참여자 추가/수정/삭제
- [ ] 지출 추가 (동일 분할)
- [ ] 지출 추가 (직접 정산)
- [ ] 카테고리 선택
- [ ] 통화 선택 (KRW, USD, EUR, JPY)
- [ ] 결제 방식 선택 (현금/카드)
- [ ] 기간별 공유비용 추가
- [ ] 날짜별 참여자 선택
- [ ] 정산 계산 (일반 + 공유비용)
- [ ] 최적화된 송금 안내
- [ ] 캘린더 뷰
- [ ] 지출 패턴 차트
- [ ] 카테고리 관리
- [ ] 공유 대시보드 생성
- [ ] 공유 대시보드 조회

### UI/UX 체크리스트
- [ ] 모바일 반응형 레이아웃
- [ ] 터치 친화적 버튼 크기 (최소 44px)
- [ ] 로딩 상태 표시
- [ ] 에러 메시지 표시
- [ ] 폼 유효성 검사
- [ ] 실시간 계산 미리보기

### PWA 체크리스트
- [ ] 앱 설치 프롬프트 표시
- [ ] 오프라인 동작 (서비스 워커)
- [ ] 홈 화면 아이콘

## 🐛 문제 해결

### 데이터가 표시되지 않음
- Supabase 연결 확인 (환경 변수)
- 브라우저 콘솔에서 에러 확인
- 네트워크 탭에서 API 요청 확인

### 정산 계산이 잘못됨
- 참여자 선택 확인
- 금액 입력 확인
- 정산 방법 확인 (동일 분할 vs 직접 정산)

### 공유비용 계산 오류
- 날짜별 참여자 선택 확인
- 기간 설정 확인
- 총 금액 확인

## 📝 테스트 데이터 예시

### 참여자
- 홍길동
- 김철수
- 이영희

### 지출 예시
1. 점심 식사: 50,000원 (홍길동 결제, 3명 동일 분할)
2. 카페: 15,000원 (김철수 결제, 2명 동일 분할)
3. 택시비: 30,000원 (이영희 결제, 직접 정산: 홍길동 20,000원, 김철수 10,000원)

### 공유비용 예시
- 숙소비: 300,000원 (3일간)
  - 1일차: 홍길동, 김철수
  - 2일차: 홍길동, 김철수, 이영희
  - 3일차: 홍길동

## ✅ 테스트 완료 후

모든 기능이 정상 작동하면:
1. 실제 여행 데이터로 테스트
2. 여러 시나리오 테스트
3. 성능 확인
4. 모바일 기기에서 테스트

